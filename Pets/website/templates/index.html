{% extends 'base.html' %}
{% load static %}


{% block content %}

<div class="weather-page-container">

    <!-- Search Bar -->
    <div class="search-wrapper">
        <span class="icon">üîç</span>
        <form action="#" method="GET" style="flex: 1; display: flex;">
            <input type="text" name="city" placeholder="Search your city..." required>
        </form>
        <span class="location-toggle">
            Location ‚åµ
        </span>
    </div>

    <!-- Messages -->
    {% if messages %}
        {% for message in messages %}
            <p style="color: #ffcccc;">{{ message }}</p>
        {% endfor %}
    {% endif %}

    <!-- Weather Card -->
    <div class="recent-locations-label">Current Location</div>

    {% if weather %}
    <div class="weather-card">
        <h2 class="city-name">{{ weather.city }}</h2>
        <div class="country-name">United Kingdom</div>

        <img src="http://openweathermap.org/img/wn/{{ weather.icon }}@2x.png" alt="weather icon">

        <div class="temp-display">
            {{ weather.temperature|floatformat:0 }}¬∞<span>C</span>
        </div>

        <div class="real-feel">
            RealFeel¬Æ {{ weather.temperature|add:"-2" }}¬∞
        </div>

        <p style="margin-top: 10px; text-transform: capitalize;">
            {{ weather.description }}
        </p>

        <p>Humidity: {{ weather.humidity }}%</p>
        <p>Wind: {{ weather.wind_speed }} m/s</p>
    </div>
    {% else %}
    <div class="weather-card">
        <h2 class="city-name">Nottingham</h2>
        <div class="country-name">United Kingdom</div>
        <div class="temp-display">‚òÅÔ∏è 7¬∞<span>C</span></div>
        <div class="real-feel">RealFeel¬Æ 1¬∞</div>
    </div>
    {% endif %}

</div>

<style>
.weather-page-container {
    background: url("{% static 'images/sunset_bg.jpg' %}") no-repeat center center fixed;
    background-size: cover;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 100px;
    color: white;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.search-wrapper {
    background: white;
    width: 100%;
    max-width: 600px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    padding: 10px 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    margin-bottom: 40px;
}

.search-wrapper input {
    border: none;
    flex: 1;
    padding: 10px;
    font-size: 1rem;
    outline: none;
    color: #333;
}

.icon {
    color: #888;
    margin-right: 10px;
}

.location-toggle {
    color: #333;
    border-left: 1px solid #ddd;
    padding-left: 15px;
    cursor: pointer;
}

.recent-locations-label {
    width: 100%;
    max-width: 600px;
    text-transform: uppercase;
    font-size: 0.8rem;
    letter-spacing: 1px;
    margin-bottom: 10px;
    font-weight: bold;
}

.weather-card {
    background: rgba(45, 30, 45, 0.6);
    backdrop-filter: blur(10px);
    width: 100%;
    max-width: 280px;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
}

.city-name {
    font-size: 1.5rem;
    margin: 0;
}

.country-name {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-bottom: 10px;
}

.temp-display {
    font-size: 3rem;
    margin: 10px 0;
}

.temp-display span {
    font-size: 1.2rem;
}

.real-feel {
    font-size: 0.85rem;
}
</style>

{% endblock %}
